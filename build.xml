<?xml version="1.0" encoding="UTF-8"?>
<project name="project" default="build">
	<target name="iterate_init" unless="iterate_init_done">
		<!-- tasks and macros must be defined in a task or we'll get
		     'Trying to override old definition of task ...' reports -->

		<macrodef name="iterate">
			<attribute name="target" />
			<sequential>
				<subant target="@{target}">
					<fileset dir="." includes="*/build.xml" excludes="cnf/*" />
				</subant>
			</sequential>
		</macrodef>

		<!-- mark iterate_init has been run -->
		<property name="iterate_init_done" value="set" />
	</target>


        <target name="build">
                <ant dir="org.osgi.impl.bundle.bindex" target="build"/>
        </target>


	<target name="clean" depends="iterate_init">
		<iterate target="clean"/>
	</target>

	<target name="test" depends="iterate_init">
		<iterate target="test"/>
	</target>
</project>
